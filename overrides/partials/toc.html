<!-- Determine title -->
{% set title = lang.t("toc") %}
{% if config.mdx_configs.toc and config.mdx_configs.toc.title %}
  {% set title = config.mdx_configs.toc.title %}
{% endif %}

<!-- Table of contents -->
<nav class="md-nav md-nav--secondary" aria-label="{{ title | e }}">
  {% set toc = page.toc %}

  <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  -->
  {% set first = toc | first %}
  {% if first and first.level == 1 %}
    {% set toc = first.children %}
  {% endif %}

  <!-- Table of contents title and list -->
  {% if toc %}
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      {{ title }}
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      {% for toc_item in toc %}
        {% include "partials/toc-item.html" %}
      {% endfor %}
    </ul>
  {% endif %}
</nav>

<!-- Technical Level Badge (Added) -->
{% if toc and page.meta and page.meta.technical_level %}
<div class="technical-level-badge">
  <div class="technical-badge level-{{ page.meta.technical_level }}">
    Level {{ page.meta.technical_level }}
  </div>
</div>
{% endif %}
<!-- End Technical Level Badge -->

<!-- Page Feedback -->
<!-- <div class="md-page-feedback">
  <p>Help us improve GenAI Atlas by sharing your insights and reporting issues.</p>
  <a href="https://form.asana.com/?k=e_nRVZG_A6dRVShgZLIKGA&d=8442528107068" target="_blank" rel="noopener noreferrer" class="md-button">
    Provide Feedback
  </a>
</div> -->
<!-- End Page Feedback -->